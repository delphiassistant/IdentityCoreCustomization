@{
    ViewData["Title"] = "تأیید ایمیل";
}

<div class="page-header">
    <div class="d-flex align-items-center">
        <div class="page-title-icon">
            <i class="fa-solid fa-envelope-circle-check"></i>
        </div>
        <div class="flex-grow-1">
            <h1 class="page-title mb-0">تأیید ایمیل</h1>
            <p class="page-description">وضعیت تأیید ایمیل شما</p>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="manage-card">
            <div class="manage-card-body text-center py-5">
                @if (!string.IsNullOrEmpty(ViewBag.StatusMessage))
                {
                    var isSuccess = !ViewBag.StatusMessage.ToString().Contains("خطا") && !ViewBag.StatusMessage.ToString().Contains("Error");
                    
                    <div class="feature-icon @(isSuccess ? "feature-icon-success" : "feature-icon-danger") mx-auto mb-4" style="width: 80px; height: 80px; font-size: 2.5rem;">
                        <i class="fa-solid @(isSuccess ? "fa-circle-check" : "fa-circle-xmark")"></i>
                    </div>

                    <div class="alert alert-@(isSuccess ? "success" : "danger") text-start">
                        @ViewBag.StatusMessage
                    </div>

                    if (isSuccess)
                    {
                        <p class="text-muted mb-4">ایمیل شما با موفقیت تأیید شد. اکنون می‌توانید از تمام امکانات حساب کاربری خود استفاده کنید.</p>
                    }
                    else
                    {
                        <p class="text-muted mb-4">لینک تأیید ایمیل نامعتبر یا منقضی شده است. لطفاً دوباره درخواست دهید.</p>
                    }
                }
                else
                {
                    <div class="feature-icon feature-icon-info mx-auto mb-4" style="width: 80px; height: 80px; font-size: 2.5rem;">
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <p class="text-muted mb-4">در حال بررسی وضعیت تأیید ایمیل...</p>
                }

                <div class="d-flex gap-2 justify-content-center">
                    <a asp-area="Users" asp-controller="Account" asp-action="Login" class="manage-btn manage-btn-primary">
                        <i class="fa-solid fa-right-to-bracket fa-flip-horizontal"></i> ورود به حساب
                    </a>
                    <a href="/" class="btn btn-secondary">
                        <i class="fa-solid fa-home"></i> صفحه اصلی
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
