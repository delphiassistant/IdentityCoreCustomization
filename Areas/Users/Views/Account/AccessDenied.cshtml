@{
    ViewData["Title"] = "عدم دسترسی";
    Layout = "~/Areas/Users/Views/Shared/_AuthLayout.cshtml";
}

<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <div class="icon">
                <i class="fa-solid fa-ban"></i>
            </div>
            <h1>@ViewData["Title"]</h1>
        </div>

        <div class="auth-body">
            <div class="auth-alert auth-alert-danger">
                <i class="fa-solid fa-shield-halved"></i>
                <p class="mb-0">
                    <strong>دسترسی رد شد!</strong> شما مجوز دسترسی به این بخش را ندارید.
                </p>
            </div>

            <div class="text-center py-4">
                <div class="feature-icon feature-icon-danger mx-auto mb-3" style="width: 80px; height: 80px; font-size: 2.5rem;">
                    <i class="fa-solid fa-lock"></i>
                </div>
                <h4 class="mb-3">این صفحه محافظت شده است</h4>
                <p class="text-muted mb-4">
                    ممکن است به دلایل زیر به این صفحه دسترسی نداشته باشید:
                </p>
                <div class="alert alert-warning text-start">
                    <ul class="mb-0">
                        <li>نقش یا مجوز لازم را ندارید</li>
                        <li>نیاز به ورود مجدد به سیستم</li>
                        <li>حساب کاربری شما محدود شده است</li>
                    </ul>
                </div>
            </div>

            <div class="auth-links">
                <div class="auth-divider">
                    <span>اقدامات پیشنهادی</span>
                </div>
                
                @if (User.Identity?.IsAuthenticated == true)
                {
                    <a href="/" class="auth-link" style="color: var(--auth-primary); font-weight: 600;">
                        <i class="fa-solid fa-home text-primary"></i>
                        <span>بازگشت به صفحه اصلی</span>
                    </a>
                    
                    <a asp-area="Users" asp-controller="Manage" asp-action="Index" class="auth-link">
                        <i class="fa-solid fa-user-gear text-info"></i>
                        <span>پروفایل کاربری</span>
                    </a>
                }
                else
                {
                    <a asp-action="Login" asp-route-returnUrl="@Context.Request.Path" class="auth-link" style="color: var(--auth-primary); font-weight: 600;">
                        <i class="fa-solid fa-right-to-bracket fa-flip-horizontal text-primary"></i>
                        <span>ورود به حساب کاربری</span>
                    </a>
                    
                    <a asp-action="Register" class="auth-link">
                        <i class="fa-solid fa-user-plus text-success"></i>
                        <span>ایجاد حساب جدید</span>
                    </a>
                }
            </div>
        </div>
    </div>

    <div class="back-to-home">
        <a href="/">
            <i class="fa-solid fa-home"></i>
            بازگشت به صفحه اصلی
        </a>
    </div>
</div>
